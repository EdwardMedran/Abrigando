<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Abrigando A Los Cañetañitos | Adopta</title>
    <link rel="icon" href="../img/LogoAbrigando.jpg" type="image/jpeg">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&family=Poppins:wght@600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>

    <nav class="navbar">
        <div class="container nav-container">
            <a href="../index.html" class="logo">
                <img src="../img/LogoAbrigando.jpg" alt="Logo Abrigando">
                <span>Abrigando A Los Cañetañitos</span>
            </a>
            <button class="mobile-menu-btn"><i class="fas fa-bars"></i></button>
            <div class="nav-links">
                <a href="../index.html">Inicio</a>
                <a href="../index.html#nosotros">Nosotros</a>
                <a href="eligeTuPeludo.html" class="active">Adopta</a>
                <a href="../index.html#ayuda">Cómo Ayudar</a>
                <a href="../index.html#contacto">Contacto</a>
            </div>
        </div>
    </nav>

    <header class="page-header bg-dark section">
        <div class="container">
            <h1 class="section-title" style="color: white;">Encuentra a tu compañero ideal</h1>
            <p class="section-subtitle" style="color: var(--text-light);">Explora a nuestros rescataditos. Ellos están esperando por ti.</p>
        </div>
    </header>

    <section class="section">
        <div class="container">
            
            <div class="filters-container">
                <button class="filter-btn active" data-filter="all">Todos</button>
                <button class="filter-btn" data-filter="macho">Machos</button>
                <button class="filter-btn" data-filter="hembra">Hembras</button>
                <button class="filter-btn" data-filter="cachorro">Cachorros</button>
            </div>

            <div class="dogs-grid" id="dogs-container">
                
                <article class="dog-card filterable" data-category="macho">
                    <div class="card-image">
                        <img src="https://images.unsplash.com/photo-1552053831-71594a27632d?q=80&w=600&auto=format&fit=crop" alt="Max">
                        <span class="tag tag-male">Macho</span>
                    </div>
                    <div class="card-content">
                        <h3>Max</h3>
                        <p class="age">2 años • Labrador Mix</p>
                        <a href="../peludos/peludo1.html" class="btn-link">Ver perfil <i class="fas fa-arrow-right"></i></a>
                    </div>
                </article>

                <article class="dog-card filterable" data-category="hembra">
                    <div class="card-image">
                        <img src="https://images.unsplash.com/photo-1583511655826-05700d52f4d9?q=80&w=600&auto=format&fit=crop" alt="Luna">
                        <span class="tag tag-female">Hembra</span>
                    </div>
                    <div class="card-content">
                        <h3>Luna</h3>
                        <p class="age">3 años • Mestiza</p>
                        <a href="../peludos/peludo2.html" class="btn-link">Ver perfil <i class="fas fa-arrow-right"></i></a>
                    </div>
                </article>

                <article class="dog-card filterable" data-category="macho">
                    <div class="card-image">
                        <img src="https://images.unsplash.com/photo-1537151608828-ea2b11777ee8?q=80&w=600&auto=format&fit=crop" alt="Toby">
                        <span class="tag tag-male">Macho</span>
                    </div>
                    <div class="card-content">
                        <h3>Toby</h3>
                        <p class="age">5 años • Beagle</p>
                        <a href="../peludos/peludo3.html" class="btn-link">Ver perfil <i class="fas fa-arrow-right"></i></a>
                    </div>
                </article>

                <article class="dog-card filterable" data-category="cachorro">
                    <div class="card-image">
                        <img src="https://images.unsplash.com/photo-1591160690555-5debfba289f0?q=80&w=600&auto=format&fit=crop" alt="Coco">
                        <span class="tag tag-male">Cachorro</span>
                    </div>
                    <div class="card-content">
                        <h3>Coco</h3>
                        <p class="age">4 meses • Golden R.</p>
                        <a href="#" class="btn-link">Ver perfil <i class="fas fa-arrow-right"></i></a>
                    </div>
                </article>

                <article class="dog-card filterable" data-category="hembra">
                    <div class="card-image">
                        <img src="https://images.unsplash.com/photo-1615569691310-3029820895d9?q=80&w=600&auto=format&fit=crop" alt="Kira">
                        <span class="tag tag-female">Hembra</span>
                    </div>
                    <div class="card-content">
                        <h3>Kira</h3>
                        <p class="age">1 año • Husky</p>
                        <a href="#" class="btn-link">Ver perfil <i class="fas fa-arrow-right"></i></a>
                    </div>
                </article>

                 <article class="dog-card filterable" data-category="macho">
                    <div class="card-image">
                        <img src="https://images.unsplash.com/photo-1563999072136-25e19bb14162?q=80&w=600&auto=format&fit=crop" alt="Rocky">
                        <span class="tag tag-male">Macho</span>
                    </div>
                    <div class="card-content">
                        <h3>Rocky</h3>
                        <p class="age">4 años • Pastor Alemán</p>
                        <a href="#" class="btn-link">Ver perfil <i class="fas fa-arrow-right"></i></a>
                    </div>
                </article>
            </div>

            <p id="no-results-message" style="display: none; text-align: center; margin-top: 2rem; font-size: 1.2rem;">No encontramos peluditos con esas características en esta página.</p>

            <div class="pagination-container" id="pagination-controls">
                </div>

        </div>
    </section>

    <footer class="main-footer">
        <div class="container">
            <p>&copy; 2025 Abrigando A Los Cañetañitos. Hecho con <i class="fas fa-heart"></i> por voluntarios.</p>
        </div>
    </footer>

    <script>
        const itemsPerPage = 4; 
        let currentPage = 1;
        let currentFilter = 'all';

        const allDogs = Array.from(document.querySelectorAll('.filterable'));
        const dogsContainer = document.getElementById('dogs-container');
        const paginationContainer = document.getElementById('pagination-controls');
        const filterButtons = document.querySelectorAll('.filter-btn');
        const noResultsMessage = document.getElementById('no-results-message');

        function updateDisplay() {
            const filteredDogs = allDogs.filter(dog => {
                if (currentFilter === 'all') return true;
                return dog.getAttribute('data-category') === currentFilter;
            });

            const totalPages = Math.ceil(filteredDogs.length / itemsPerPage);
            
            if (currentPage > totalPages) currentPage = totalPages || 1;
            if (currentPage < 1) currentPage = 1;

            const startIndex = (currentPage - 1) * itemsPerPage;
            const endIndex = startIndex + itemsPerPage;
            const dogsToShow = filteredDogs.slice(startIndex, endIndex);

            allDogs.forEach(dog => dog.style.display = 'none');

            if (dogsToShow.length > 0) {
                dogsToShow.forEach(dog => dog.style.display = 'block');
                noResultsMessage.style.display = 'none';
                dogsContainer.style.display = 'grid'; 
            } else {
                noResultsMessage.style.display = 'block';
                dogsContainer.style.display = 'none';
            }
            
            renderPagination(totalPages);
        }

        function renderPagination(totalPages) {
            paginationContainer.innerHTML = ''; 

            if (totalPages <= 1) return;

            const prevBtn = createPaginationBtn('<i class="fas fa-chevron-left"></i>', () => {
                if (currentPage > 1) { currentPage--; updateDisplay(); }
            });
            if (currentPage === 1) prevBtn.classList.add('disabled');
            paginationContainer.appendChild(prevBtn);

            for (let i = 1; i <= totalPages; i++) {
                const pageBtn = createPaginationBtn(i, () => {
                    currentPage = i;
                    updateDisplay();
                });
                if (i === currentPage) pageBtn.classList.add('active');
                paginationContainer.appendChild(pageBtn);
            }

            const nextBtn = createPaginationBtn('<i class="fas fa-chevron-right"></i>', () => {
                if (currentPage < totalPages) { currentPage++; updateDisplay(); }
            });
            if (currentPage === totalPages || totalPages === 0) nextBtn.classList.add('disabled');
            paginationContainer.appendChild(nextBtn);
        }

        function createPaginationBtn(text, onClick) {
            const btn = document.createElement('button');
            btn.innerHTML = text;
            btn.className = 'page-btn';
            btn.addEventListener('click', onClick);
            return btn;
        }

        filterButtons.forEach(btn => {
            btn.addEventListener('click', () => {
                filterButtons.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                currentFilter = btn.getAttribute('data-filter');
                currentPage = 1;
                updateDisplay();
            });
        });

        document.querySelector('.mobile-menu-btn').addEventListener('click', () => {
            document.querySelector('.nav-links').classList.toggle('active');
        });

        updateDisplay();
    </script>
</body>
</html>